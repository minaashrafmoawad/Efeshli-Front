<div class="container">
  <div class="form-section">
    <div class="form-wrapper">
      <h1>Forgot Password</h1>
      
      <!-- Success Message -->
      <div *ngIf="successMessage" class="success-message" role="alert">
        {{ successMessage }}
      </div>
      
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" novalidate>
        <label for="email">Email Address</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          [class.error]="(submitted && f['email'].invalid) || emailNotFound"
          placeholder="Enter your email address"
          aria-describedby="emailError"
          [attr.aria-invalid]="(submitted && f['email'].invalid) || emailNotFound"
        />

        <!-- Validation Messages -->
        <div *ngIf="submitted && f['email'].errors" class="error-message" id="emailError">
          <div *ngIf="f['email'].errors['required']">Email is required</div>
          <div *ngIf="f['email'].errors['email']">Please enter a valid email address</div>
        </div>
        
        <!-- API Error Message -->
        <div *ngIf="emailNotFound && !successMessage" class="error-message" id="apiError">
          Sorry, we can't find a user with that email address.
        </div>

        <button type="submit" [disabled]="loading">
          <span *ngIf="!loading">Submit</span>
          <span *ngIf="loading">Processing...</span>
        </button>
      </form>

      <div class="links">
        <a routerLink="/login">Login?</a>
        <a routerLink="/signup">Create Account?</a>
      </div>
    </div>
  </div>

  <div class="image-section" aria-hidden="true"></div>
</div>